<!doctype html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Beauty WebApp</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <style>
    body { font-family: Arial, sans-serif; padding: 16px; background:#f7f7f7; }
    .box { background:#fff; padding:16px; border-radius:12px; }
    input, select, button { width:100%; padding:12px; margin-top:10px; font-size:16px; }
    button { cursor:pointer; }
    #status { font-weight:700; margin-bottom:10px; }
  </style>
</head>
<body>

<h2>üìÖ –ó–∞–ø–∏—Å—å –≤ —Å–∞–ª–æ–Ω</h2>

<div class="box">
  <div id="status">–ó–∞–≥—Ä—É–∑–∫–∞‚Ä¶</div>

  <label>–£—Å–ª—É–≥–∞</label>
  <select id="service">
    <option value="–ú–∞–Ω–∏–∫—é—Ä">–ú–∞–Ω–∏–∫—é—Ä</option>
    <option value="–ü–µ–¥–∏–∫—é—Ä">–ü–µ–¥–∏–∫—é—Ä</option>
    <option value="–°—Ç—Ä–∏–∂–∫–∞">–°—Ç—Ä–∏–∂–∫–∞</option>
    <option value="–û–∫—Ä–∞—à–∏–≤–∞–Ω–∏–µ">–û–∫—Ä–∞—à–∏–≤–∞–Ω–∏–µ</option>
  </select>

  <label>–ò–º—è</label>
  <input id="name" placeholder="–í–∞—à–µ –∏–º—è" />

  <label>–¢–µ–ª–µ—Ñ–æ–Ω</label>
  <input id="phone" placeholder="+7..." type="tel" />

  <button id="send">‚úÖ –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É</button>
</div>

<!-- ‚úÖ –°–∫—Ä–∏–ø—Ç –≤ —Å–∞–º–æ–º –Ω–∏–∑—É body -->
<script>
  const statusEl = document.getElementById("status");
  const sendBtn = document.getElementById("send");

  // –ü–æ–∫–∞–∂–µ–º, —á—Ç–æ –∫–Ω–æ–ø–∫–∞ –Ω–∞–π–¥–µ–Ω–∞
  if (!sendBtn) {
    statusEl.textContent = "‚ùå –û—à–∏–±–∫–∞: –∫–Ω–æ–ø–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ (id='send').";
  }

  // –ü—Ä–æ–≤–µ—Ä—è–µ–º Telegram WebApp
  const tg = window.Telegram?.WebApp;
  if (!tg) {
    statusEl.textContent = "‚ùå –û—Ç–∫—Ä—ã—Ç–æ –Ω–µ –∫–∞–∫ Mini App. –û—Ç–∫—Ä–æ–π —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É –±–æ—Ç–∞ /start.";
  } else {
    tg.ready();
    tg.expand();
    statusEl.textContent = "‚úÖ Mini App –ø–æ–¥–∫–ª—é—á—ë–Ω. –ù–∞–∂–º–∏ ¬´–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É¬ª.";

    // –ò–º—è –∏–∑ Telegram
    const user = tg.initDataUnsafe?.user;
    if (user?.first_name) document.getElementById("name").value = user.first_name;

    // –¢–ï–°–¢: –ø—Ä–∏ –∫–ª–∏–∫–µ —Å–Ω–∞—á–∞–ª–∞ alert, —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ª–∏ –∫–Ω–æ–ø–∫–∞
    sendBtn.addEventListener("click", () => {
      alert("–ö–Ω–æ–ø–∫–∞ –Ω–∞–∂–∞—Ç–∞. –û—Ç–ø—Ä–∞–≤–ª—è—é —Ç–µ—Å—Ç‚Ä¶");
      tg.sendData(JSON.stringify({ test: "ok", t: Date.now() }));
    });
  }
</script>

</body>
</html>
