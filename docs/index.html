<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <title>Beauty WebApp</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
  <h2>üìÖ –ó–∞–ø–∏—Å—å –≤ —Å–∞–ª–æ–Ω –∫—Ä–∞—Å–æ—Ç—ã</h2>

  <div style="margin-bottom:12px;">
    <label>–£—Å–ª—É–≥–∞:</label><br>
    <select id="service">
      <option value="–ú–∞–Ω–∏–∫—é—Ä">–ú–∞–Ω–∏–∫—é—Ä</option>
      <option value="–ü–µ–¥–∏–∫—é—Ä">–ü–µ–¥–∏–∫—é—Ä</option>
      <option value="–°—Ç—Ä–∏–∂–∫–∞">–°—Ç—Ä–∏–∂–∫–∞</option>
      <option value="–û–∫—Ä–∞—à–∏–≤–∞–Ω–∏–µ">–û–∫—Ä–∞—à–∏–≤–∞–Ω–∏–µ</option>
    </select>
  </div>

  <div style="margin-bottom:12px;">
    <label>–ò–º—è:</label><br>
    <input id="name" placeholder="–í–∞—à–µ –∏–º—è">
  </div>

  <div style="margin-bottom:12px;">
    <label>–¢–µ–ª–µ—Ñ–æ–Ω:</label><br>
    <input id="phone" placeholder="+7..." type="tel">
  </div>

  <button id="send">‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∑–∞–ø–∏—Å—å</button>

  <script>
    const tg = window.Telegram.WebApp;
    tg.ready();
    tg.expand();

    // –ü–æ–¥—Å—Ç–∞–≤–∏–º –∏–º—è –∏–∑ Telegram, –µ—Å–ª–∏ –µ—Å—Ç—å
    const user = tg.initDataUnsafe?.user;
    if (user?.first_name) {
      document.getElementById("name").value = user.first_name;
    }

    document.getElementById("send").onclick = () => {
      const data = {
        action: "create_booking",
        service: document.getElementById("service").value,
        name: document.getElementById("name").value.trim(),
        phone: document.getElementById("phone").value.trim(),
        initData: tg.initData
      };

      if (!data.name || !data.phone) {
        alert("–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∏–º—è –∏ —Ç–µ–ª–µ—Ñ–æ–Ω");
        return;
      }

      tg.sendData(JSON.stringify(data));
    };
  </script>
</body>

</html>
